(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{100:function(s,t,e){s.exports=e.p+"assets/img/blog-index-with-embed-test-screenshot.1505b0c6.png"},101:function(s,t,e){s.exports=e.p+"assets/img/blog-embed-page-test-screenshot.ad57b55f.png"},139:function(s,t,e){"use strict";e.r(t);var a=e(0),n=Object(a.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("最近有个需求，想要挂载一个已有的页面到 hexo 博客，比如打开一篇博客，里面是显示的挂的淘宝的主页。")]),s._v(" "),a("p",[s._v("主要是最近要做一些 H5 页面，想找个空间挂载，又暂时不想另外找云服务器做后台，于是就想在我这个已有的博客嵌入这些 H5 页面来显示，每个页面通过一篇博文作载体，博文就是一个 iframe，用来显示每个 H5 页面。")]),s._v(" "),a("p",[s._v("于是做了一个 embed 的 layout 专门作为嵌入页面的布局，现已添加到我自己修改的 "),a("a",{attrs:{href:"https://github.com/zthxxx/hexo-theme-icarus",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[s._v("icarus")]),a("OutboundLink")],1),s._v(" 主题中。")]),s._v(" "),a("h3",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用方法")]),s._v(" "),a("p",[s._v("配置主题为我修改的 icarus 后，embed 布局已经在主题里了。")]),s._v(" "),a("p",[s._v("使用 embed layout 前先确保已在主站配置文件中打开资源文件夹选项：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /_config.yml")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("post_asset_folder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("然后在主站配置文件中添加一些后面需要用到的忽略参数，用来忽略对所有要嵌入页面的渲染：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /_config.yml")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("skip_render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'_posts/*/embed_page/**'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("在博客更目录下的 "),a("code",[s._v("scaffolds/")]),s._v(" 目录下，新建一个模板文件 "),a("code",[s._v("embed.md")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /scaffolds/embed.md")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" title "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" date "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("layout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" embed\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("iframe_url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("准备好要嵌入的页面，然后新建一篇博文，注意使用 embed 的模板：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("hexo new embed "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HTML 页面嵌入测试"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("建立博文后，会在 "),a("code",[s._v("/source/_posts")]),s._v(" 文件夹中多一个 md 文件 "),a("code",[s._v("HTML-页面嵌入测试.md")]),s._v("、一个对应名字的文件夹 "),a("code",[s._v("/source/_posts/HTML-页面嵌入测试")]),s._v("，这个文件夹就是资源文件夹。")]),s._v(" "),a("p",[s._v("在资源文件夹（本文例子就是 "),a("code",[s._v("HTML-页面嵌入测试")]),s._v("）中新建一个 "),a("code",[s._v("embed_page")]),s._v(" 文件夹（名字是我固定的，不能修改），把要嵌入页面的 html 文件及所以相关资源文件都放在这个 "),a("code",[s._v("embed_page")]),s._v(" 文件夹下，把入口 html 文件名字修改为 "),a("code",[s._v("index.html")]),s._v("。")]),s._v(" "),a("p",[s._v("到这里其实已经完成了所有步骤了，打开 hexo 服务器就可以在本地预览了：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("hexo s -g\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# http://localhost:4000/")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v('打开浏览器访问 hexo 本地页面，你会看到在主页看到新建了一篇博文，标题是 "HTML 页面嵌入测试"，没有内容，点进博文查看，就没有左边的博主信息和右边的侧边栏，只保留了博客的大框架，留了顶部的导航栏，下边整块区域都是放嵌入的页面。由于用的是 '),a("code",[s._v("iframe")]),s._v(" 标签，所以两个页面样式等，互不影响。")]),s._v(" "),a("p",[s._v("下面给两个我刚刚操作的截图示例（点击可查看大图）：")]),s._v(" "),a("p",[a("img",{attrs:{src:e(100),alt:"测试首页截图"}})]),s._v(" "),a("p",[a("img",{attrs:{src:e(101),alt:"测试博文嵌入截图"}})]),s._v(" "),a("p",[s._v("在用 embed 模板新建的博文 MD 文件中，文件内容一般为空（就算有内容也没用），"),a("code",[s._v("front-matter")]),s._v(" 中有两个可选键值对可以配置："),a("code",[s._v("description")]),s._v(" , "),a("code",[s._v("iframe_url")])]),s._v(" "),a("p",[a("code",[s._v("description")]),s._v(" 本是对文章的描述，用以给搜索引擎看的，这里用作对摘要的代替而显示到主页上，这个键会被做 json 读取，因此描述键值如果是字符串则需要用引号括起来。")]),s._v(" "),a("p",[a("code",[s._v("iframe_url")]),s._v(" 是配置博文中嵌入的 "),a("code",[s._v("iframe")]),s._v(" 标签的地址，因此博文中嵌入的页面也支持配置为网上的页面，此项为空时默认使用相对与博文的 "),a("code",[s._v("'./embed_page/'")]),s._v(" 地址，因此才有本文开头讲的那些配置。")])])},[],!1,null,null,null);t.default=n.exports}}]);